import scrapy

class toiEditorials(scrapy.Spider):
    name = "toi"
    start_urls = ['http://blogs.timesofindia.indiatimes.com/toi-editorials/page/1', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/2', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/3', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/4', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/5', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/6', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/7', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/8', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/9', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/10', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/11', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/12', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/13', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/14', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/15', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/16', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/17', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/18', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/19',
     'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/20', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/21', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/22', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/23', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/24', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/25', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/26', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/27', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/28', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/29', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/30', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/31', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/32', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/33', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/34', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/35', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/36', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/37', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/38', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/39', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/40', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/41', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/42', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/43', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/44', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/45', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/46', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/47', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/48', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/49', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/50', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/51', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/52', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/53', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/54', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/55', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/56', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/57', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/58', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/59', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/60', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/61', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/62', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/63', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/64', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/65', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/66', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/67', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/68', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/69', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/70', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/71', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/72', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/73', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/74', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/75', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/76', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/77', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/78', 'http://blogs.timesofindia.indiatimes.com/toi-editorials/page/79']

    def parse(self,respose):
        for href in respose.css('.media-heading a::attr(href)'):
            url = href.extract()
            yield scrapy.Request(url, callback = self.parse_item)


    def parse_item(self, response):
        yield {
        'TypographyTag': response.css('.TypographyTag::text').extract(),
        'ContentParagraph': response.css('.content p::text').extract(),
        'Headline': response.css('.article .media-heading::text').extract(),
        'author': response.css('.attribution a::text').extract(),
        }
